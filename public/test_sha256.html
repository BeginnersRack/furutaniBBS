<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>test SHA</title>
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/core.min.js"></script>  
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/enc-base64.min.js"></script> -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/cipher-core.min.js"></script> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/sha256.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/sha1.min.js"></script> -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/aes.min.js"></script> -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/hmac.min.js"></script> -->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/pbkdf2.min.js"></script> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/lib-typedarrays.js" type="text/javascript" ></script>
    
    <script type="text/javascript">
    window.addEventListener("load", function(event) {    func_iframeOnload();   });
    function func_iframeOnload(){ // iframeの親から、onloadイベントで呼び出される
        let tgtElem;
        
        tgtElem = document.getElementById("button_openBoard01");
        if(tgtElem){
            tgtElem.addEventListener("click",function(event){
                let orgdata="";
                let orgdataElm = document.getElementById("inputdata");
                if(orgdataElm){
                    orgdata = orgdataElm.value;
                }
                
                let ansElm;
                
                ansElm = document.getElementById("forTest1");
                if(ansElm){
                    let strAns = CryptoJS.SHA256(orgdata).toString();
                    ansElm.innerHTML = strAns;
                }
                
                ansElm = document.getElementById("forTest2");
                if(ansElm){
                    let wordArray = CryptoJS.lib.WordArray.create(orgdata);
                    let strAns = CryptoJS.SHA256(wordArray).toString();
                    ansElm.innerHTML = strAns;
                }
                
            });
        }
        
    };
    
    </script>
    
  </head>
  <body>
    <p id="footprint"> SHA256 </p>
    
    <input type="button" id="button_openBoard01" value="Hash" /> <br />
    
    <textarea id="inputdata" name="orgdata" rows="5" cols="33">
    It was a dark and stormy night...
    </textarea> <br/>
    
    
    
    <span id="forTest1"></span>  <br/>
    <span id="forTest2"></span>  <br/>
  </body>
</html>

